@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact - Caky Word</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <!-- Link GG Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
    <style>

        html, body {
            height: 100%;
            width: 100%;
            overflow-x: hidden; /* Ngăn chặn scroll ngang */
        }

        .hero {
            background-image: url('/img/PRODUCT/Background/Bakery.jpg'); /* Thay URL ảnh nền */
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            height: 300px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 1rem 0;
        }

        .header-cart {
            font-size: 2rem;
            color: white;
            margin-bottom: 0.5rem; /* Khoảng cách giữa HOME và breadcrumb */
            text-transform: uppercase;
        }

        .breadcrumb {
            font-size: 1rem;
            color: white;
        }

            .breadcrumb a {
                color: white;
                text-decoration: none;
                transition: color 0.3s ease;
            }

                .breadcrumb a:hover {
                    color: #f7811b; /* Màu cam khi hover */
                }

        .breadcrumb-item + .breadcrumb-item::before {
            content: "/";
            color: white; /* Dấu "/" màu trắng */
            padding: -1px 0.5rem;
        }

        .breadcrumb-item.active {
            color: white; /* Màu trắng cho Product */
        }

        .story {
            color: #453426;
            margin-left: auto;
            margin-right: auto;
            text-align: center;
            max-width: 80%; /* Giới hạn chiều rộng để không bị tràn */
        }

            .story .text {
                text-align: left; /* Căn trái nội dung text */
                margin: 0 auto; /* Căn giữa */
            }

            .story .image {
                display: flex;
                justify-content: center; /* Căn giữa hình ảnh */
                align-items: center;
            }

                .story .image img {
                    max-width: 100%;
                    height: auto;
                }

        .great-vibes-regular {
            font-family: "Great Vibes", serif;
            font-weight: 400;
            font-style: normal;
            font-size: 2.5rem; /* Điều chỉnh kích thước nếu cần */
        }

        .contact-section {
            background-color: #FCF8F0; /* Nền nhẹ màu be */
            padding: 3% 0;
            margin-top: 2%;
        }

        .contact-title {
            font-size: 28px;
            font-weight: bold;
            color: #f7811b;
            margin-bottom: 2.5rem;
        }

        .contact-text {
            font-size: 16px;
            color: #453426;
            margin-bottom: 20px;
        }

        .contact-info p {
            font-size: 16px;
            color: #453426;
            margin-bottom: 10px;
        }

        .contact-image {
            max-width: 80%;
            border-radius: 10px;
        }

        .contact-form {
            margin-left: 10%;
            margin-right: 10%;
            margin-top: 2%;
        }

            .contact-form button {
                background-color: #b37321; /* Màu nền cam */
                color: white; /* Màu chữ trắng */
                border: none; /* Bỏ viền */
                padding: 10px 20px; /* Khoảng cách trong nút */
                font-size: 16px; /* Kích thước chữ */
                border-radius: 5px; /* Bo góc cho nút */
                cursor: pointer; /* Hiển thị con trỏ tay khi hover */
                display: block; /* Chuyển nút thành block để có thể canh giữa */
                margin: 20px auto; /* Canh giữa nút */
                text-align: center; /* Canh giữa nội dung chữ */
                width: 200px; /* Chiều rộng nút */
            }

                .contact-form button:hover {
                    background-color: #321b0d; /* Màu cam đậm khi hover */
                }

            .carousel-controls {
                display: flex;
                justify-content: center;
                gap: 20px;
                margin-top: 20px; /* Điều chỉnh vị trí */
            }

           svg{
               height: 24px;
               width: 24px;
           }
        .feedback-cards {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            padding: 0 15%;
            overflow: hidden;
            /* Đặt chiều cao cố định vừa đủ chứa 1 hàng 3 cards */
            height: 18.5rem; /* điều chỉnh tùy card cao bao nhiêu */
        }

        .feedback-card {
            background: linear-gradient( 135deg, #ffe9cd 0%, /* nhạt hơn */
            #fff5e1 50%, #ffe9cd 100% );
            padding: 2rem 1.5rem 1.5rem;
            border-radius: 10px;
            width: 40%;
            height: 90%;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            flex-shrink: 0; /* không cho thu nhỏ */
        }

            .feedback-card .quote-icon {
                position: absolute;
                top: 1rem;
                left: 1rem;
                font-size: 2rem;
                color: #f6a623;
            }

            .feedback-card p.text {
                margin-top: 1.5rem;
                font-style: italic;
                font-size: 0.95rem;
                color: #1a4378;
                min-height: 100px;
            }

            .feedback-card p.author {
                margin-top: 1rem;
                text-align: right;
                font-weight: bold;
                font-size: 0.9rem;
                color: #1a4378;
            }

        .btn-primary{
            background: none;
            border:none;
            color: #321b0d;
        }
    </style>
</head>
<body>


    <!-- Hero Section -->
    <section class="hero">
        <h1 class="header-cart text-center">
            CONTACT
        </h1>
        <div class="breadcrumb-container d-flex text-center">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb mb-0">
                    <li class="breadcrumb-item">
                        <a class="nav-link @(ViewContext.RouteData.Values["action"].ToString() == "Index" && ViewContext.RouteData.Values["controller"].ToString() == "Home" ? "active" : "")"
                           asp-controller="Home" asp-action="Index">Home</a>
                    </li>
                    <li class="breadcrumb-item active" aria-current="page">Contact</li>
                </ol>
            </nav>
        </div>
    </section>

    <section class="story row justify-content-center ms-5 me-5 mt-5">
        <div class="text col-md-6">
            <h2 class="great-vibes-regular">Story of</h2> <!-- Áp dụng font cho "Story of" -->
            <h2> CAKY WORD</h2>
            <p class="my-4">Experience amazing bread cuisine at Caky Word!</p>
            <p class="lh-sm">"We are confident of leading with prestige and quality,"</p>
            <p class="lh-sm">"We understand Vietnamese cuisine and taste,"</p>
            <p class="lh-sm">"We are constantly innovating and creating."</p>
            <p class="my-4">Experience amazing bakery cuisine at the bread brand today!</p>
        </div>

        <div class="image col-md-4">
            <img src="/img/CONTACT/US/Cake.jpg" alt="Caky Word Cake" class="img-fluid"> <!-- Thay URL ảnh nếu cần -->
        </div>

    </section>

    <section class="contact-section d-flex align-items-center justify-content-center">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-md-4 text-center">
                <img src="/img/CONTACT/Contact.png" alt="Customer Support" class="img-fluid contact-image">
            </div>

            <div class="col-md-8">
                <h2 class="contact-title">Customer Reviews</h2>

                    @if (Model != null)
                    {
                        <div id="feedbackContainer" class="feedback-cards" style="display:flex; gap:1.5rem; flex-wrap:nowrap; justify-content:center;">
                            @for (int i = 0; i < Model.Count; i++)
                            {
                                <div class="feedback-card" data-feedbackid="@Model[i].FeedbackID" data-index="@i">
                                    <div class="quote-icon">“</div>
                                    <p class="text">"@Model[i].Description"</p>
                                    <p class="author">— Beloved Customer —</p>
                                </div>
                            }
                        </div>

                        <div class="carousel-controls" style="display:flex; justify-content:center; gap:20px; margin-top:20px;">
                            <button id="prevBtn" style="border:none; background-color:#FCF8F0 ;width:50px; height:50px; display:flex; align-items:center; justify-content:center;">
                                <svg aria-hidden="true" class="e-font-icon-svg e-eicon-chevron-left" viewBox="0 0 1000 1000" xmlns="http://www.w3.org/2000/svg"><path d="M646 125C629 125 613 133 604 142L308 442C296 454 292 471 292 487 292 504 296 521 308 533L604 854C617 867 629 875 646 875 663 875 679 871 692 858 704 846 713 829 713 812 713 796 708 779 692 767L438 487 692 225C700 217 708 204 708 187 708 171 704 154 692 142 675 129 663 125 646 125Z"></path></svg>
                            </button>

                            <button id="nextBtn" style="border:none; background-color:#FCF8F0; width:50px; height:50px; display:flex; align-items:center; justify-content:center;">
                                <svg aria-hidden="true" class="e-font-icon-svg e-eicon-chevron-right" viewBox="0 0 1000 1000" xmlns="http://www.w3.org/2000/svg"><path d="M696 533C708 521 713 504 713 487 713 471 708 454 696 446L400 146C388 133 375 125 354 125 338 125 325 129 313 142 300 154 292 171 292 187 292 204 296 221 308 233L563 492 304 771C292 783 288 800 288 817 288 833 296 850 308 863 321 871 338 875 354 875 371 875 388 867 400 854L696 533Z"></path></svg>
                            </button>
                        </div>

                        <div class="d-flex justify-content-end mb-4" style="padding: 0 15%;">
                            <a class="btn-primary" href="@Url.Action("ListFeedback", "Contact")">More Feedback</a>
                        </div>
                    }
                else
                {
                    <p class="text-muted text-center">No feedback available yet.</p>
                }
            </div>
        </div>
    </div>
</section>


    @{
        var actionName = (ViewBag.CustomerFeedback != null && ViewBag.CustomerFeedback.FeedbackID > 0)
        ? "Update"
        : "SubmitFeedback";
    }

    <div class="contact-form">
        <h3>CONTACT</h3>

        <form asp-action="@actionName" asp-controller="Contact" method="post">
            <div class="row mb-3">
                <p class="contact-text">
                    We are always ready to listen and support you. If you have any questions, requests, or feedback,
                    do not hesitate to contact us!
                </p>
                <div class="col-md-12">
                    <h3 for="description" style="font-size: 30px">FEEDBACK HERE!</h3>
                    @if (ViewBag.CustomerFeedback != null && ViewBag.CustomerFeedback.FeedbackID > 0)
                    {
                        <input type="hidden" name="FeedbackID" value="@ViewBag.CustomerFeedback.FeedbackID" />
                    }
                    <textarea id="description" name="Description" class="form-control" rows="6">@(
                    ViewBag.CustomerFeedback != null ? ViewBag.CustomerFeedback.Description : ""
                )</textarea>
                </div>
            </div>
            <button type="submit">Feedback</button>
        </form>
    </div>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const feedbackCards = document.querySelectorAll(".feedback-card");
            const prevButton = document.getElementById("prevBtn");
            const nextButton = document.getElementById("nextBtn");

            const pageSize = 3;
            const totalPages = Math.ceil(feedbackCards.length / pageSize);
            let currentPage = 0;

            function renderPage() {
                feedbackCards.forEach((card, index) => {
                    const start = currentPage * pageSize;
                    const end = start + pageSize;
                    if (index >= start && index < end) {
                        card.style.display = "block";
                    } else {
                        card.style.display = "none";
                    }
                });

                prevButton.disabled = currentPage === 0;
                nextButton.disabled = currentPage >= totalPages - 1;
            }

            prevButton.addEventListener("click", function () {
                if (currentPage > 0) {
                    currentPage--;
                    renderPage();
                }
            });

            nextButton.addEventListener("click", function () {
                if (currentPage < totalPages - 1) {
                    currentPage++;
                    renderPage();
                }
            });

            renderPage();
        });
    </script>
</body>
</html>
